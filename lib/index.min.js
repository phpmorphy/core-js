/**
 * @license
 * Copyright (c) 2020 UMI
 * MIT Licensed
 */
var umi=function(e){"use strict";var t,r=this&&this.__extends||(t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,r)},function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}),n=function(){function e(t){if(this._bytes=new Uint8Array(e.LENGTH),void 0===t)this.version=e.Umi;else{if(!(t instanceof Uint8Array))throw new Error("bytes type must be Uint8Array");if(t.byteLength!==e.LENGTH)throw new Error("bytes length must be 34 bytes");this._bytes.set(t)}}return Object.defineProperty(e,"LENGTH",{get:function(){return 34},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Genesis",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Umi",{get:function(){return 21929},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bytes",{get:function(){var e=new Uint8Array(this._bytes.byteLength);return e.set(this._bytes),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return new DataView(this._bytes.buffer).getUint16(0)},set:function(e){h(e),new DataView(this._bytes.buffer).setUint16(0,32767&e)},enumerable:!1,configurable:!0}),e.prototype.setVersion=function(e){return this.version=e,this},Object.defineProperty(e.prototype,"publicKey",{get:function(){return new s(this._bytes.subarray(2))},set:function(e){if(!(e instanceof s))throw new Error("publicKey type must be PublicKey");this._bytes.set(e.bytes,2)},enumerable:!1,configurable:!0}),e.prototype.setPublicKey=function(e){return this.publicKey=e,this},Object.defineProperty(e.prototype,"prefix",{get:function(){return h(this.version)},set:function(e){this.version=y(e)},enumerable:!1,configurable:!0}),e.prototype.setPrefix=function(e){return this.prefix=e,this},Object.defineProperty(e.prototype,"bech32",{get:function(){return f.encode(this._bytes)},set:function(e){W(e),this._bytes.set(f.decode(e))},enumerable:!1,configurable:!0}),e.prototype.setBech32=function(e){return this.bech32=e,this},e.fromBech32=function(t){return(new e).setBech32(t)},e.fromKey=function(t){if(t instanceof a)return(new e).setPublicKey(t.publicKey);if(t instanceof s)return(new e).setPublicKey(t);throw new Error("key type must be PublicKey or SecretKey")},e}(),i=function(){},o=function(){},s=function(){function e(t){this._bytes=new Uint8Array(e.LENGTH),Q(t,e.LENGTH),this._bytes.set(t)}return Object.defineProperty(e,"LENGTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SIGNATURE_LENGTH",{get:function(){return 64},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signatureLength",{get:function(){return e.SIGNATURE_LENGTH},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bytes",{get:function(){var e=new Uint8Array(this._bytes.byteLength);return e.set(this._bytes),e},enumerable:!1,configurable:!0}),e.prototype.verifySignature=function(t,r){return Q(t,e.SIGNATURE_LENGTH),Q(r),function(e,t,r){var n=new Uint8Array(64+t.byteLength),i=new Uint8Array(64+t.byteLength);return n.set(e),n.set(t,64),i.set(n),function(e,t,r,n){var i=new Uint8Array(32),o=new Uint8Array(64),s=[new Float64Array(16),new Float64Array(16),new Float64Array(16),new Float64Array(16)],a=[new Float64Array(16),new Float64Array(16),new Float64Array(16),new Float64Array(16)];if(function(e,t){var r=new Float64Array(16),n=new Float64Array(16),i=new Float64Array(16),o=new Float64Array(16),s=new Float64Array(16),a=new Float64Array(16),c=new Float64Array(16);O(e[2],p),function(e,t){for(var r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),G(i,e[1]),E(o,i,M),k(i,i,e[2]),P(o,e[2],o),G(s,o),G(a,s),E(c,a,s),E(r,c,i),E(r,r,o),function(e,t){var r=new Float64Array(16);r.set(t);for(var n=250;n>=0;n--)G(r,r),1!==n&&E(r,r,t);e.set(r)}(r,r),E(r,r,i),E(r,r,o),E(r,r,o),E(e[0],r,o),G(n,e[0]),E(n,n,o),q(n,i)&&E(e[0],e[0],D);if(G(n,e[0]),E(n,n,o),q(n,i))return-1;S(e[0])===t[31]>>7&&k(e[0],b,e[0]);return E(e[3],e[0],e[1]),0}(a,n))return-1;if(e.set(t),e.set(n,32),N(o,e,r),_(o),F(s,a,o),L(a,t.subarray(32)),U(s,a),I(i,s),R(t,i))return-1;return r}(i,n,n.byteLength,r)>=0}(t,r,this._bytes)},e}(),a=function(){function e(t){this._bytes=new Uint8Array(e.LENGTH),Q(t,e.LENGTH),this._bytes.set(t)}return Object.defineProperty(e,"LENGTH",{get:function(){return 64},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bytes",{get:function(){var e=new Uint8Array(this._bytes.byteLength);return e.set(this._bytes),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"publicKey",{get:function(){return new s((e=this._bytes,(t=new Uint8Array(32)).set(new Uint8Array(e.buffer,32,32)),t));var e,t},enumerable:!1,configurable:!0}),e.prototype.sign=function(e){return Q(e),function(e,t){var r=new Uint8Array(64+e.length);return function(e,t,r,n){var i,o,s=new Uint8Array(64),a=new Uint8Array(64),c=new Uint8Array(64),u=new Float64Array(64),f=[new Float64Array(16),new Float64Array(16),new Float64Array(16),new Float64Array(16)];for(N(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,e.set(t,64),e.set(s.subarray(32),32),N(c,e.subarray(32),r+32),_(c),L(f,c),I(e,f),e.set(n.subarray(32),32),N(a,e,r+64),_(a),u.set(c),i=0;i<32;i++)for(o=0;o<32;o++)u[i+o]+=a[i]*s[o];A(e.subarray(32),u)}(r,e,e.length,t),new Uint8Array(r.buffer,0,64)}(e,this._bytes)},e.fromSeed=function(t){return Q(t),32===t.byteLength?new e(V(t)):new e(V(z(t)))},e}(),c=function(){function e(t){this._bytes=new Uint8Array(e.LENGTH),this._view=new DataView(this._bytes.buffer),this._fieldsMap={},void 0!==t&&(Q(t,e.LENGTH),this._bytes.set(t),this._setFields(["version","sender","recipient","value","prefix","name","profitPercent","feePercent","nonce","signature"]))}return Object.defineProperty(e,"LENGTH",{get:function(){return 150},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Genesis",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Basic",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CreateStructure",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UpdateStructure",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UpdateProfitAddress",{get:function(){return 4},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UpdateFeeAddress",{get:function(){return 5},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CreateTransitAddress",{get:function(){return 6},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DeleteTransitAddress",{get:function(){return 7},enumerable:!1,configurable:!0}),e.prototype._checkFields=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(!Object.prototype.hasOwnProperty.call(this._fieldsMap,n))throw new Error(n+" must be set")}},e.prototype._setFields=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];this._fieldsMap[n]=!0}},e}(),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._checkVersionIsStruct=function(){if(-1===[t.CreateStructure,t.UpdateStructure].indexOf(this.version))throw new Error("unavailable for this transaction type")},Object.defineProperty(t.prototype,"prefix",{get:function(){return this._checkFields(["version"]),this._checkVersionIsStruct(),this._checkFields(["prefix"]),h(this._view.getUint16(35))},set:function(e){this._checkFields(["version"]),this._checkVersionIsStruct(),this._view.setUint16(35,y(e)),this._setFields(["prefix"])},enumerable:!1,configurable:!0}),t.prototype.setPrefix=function(e){return this.prefix=e,this},Object.defineProperty(t.prototype,"name",{get:function(){return this._checkFields(["version"]),this._checkVersionIsStruct(),this._checkFields(["name"]),function(e){for(var t="",r=0;r<e.byteLength;r++)if(e[r]<128)t+=String.fromCharCode(e[r]);else if(e[r]>191&&e[r]<224)t+=String.fromCharCode((31&e[r])<<6|63&e[++r]);else if(e[r]>223&&e[r]<240)t+=String.fromCharCode((15&e[r])<<12|(63&e[++r])<<6|63&e[++r]);else{var n=((7&e[r])<<18|(63&e[++r])<<12|(63&e[++r])<<6|63&e[++r])-65536;t+=String.fromCharCode(n>>10|55296,1023&n|56320)}return t}(this._bytes.subarray(42,42+this._bytes[41]))},set:function(e){if(this._checkFields(["version"]),this._checkVersionIsStruct(),"string"!=typeof e)throw new Error("name type must be a string");var t=function(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?(t.push(224|n>>12,128|n>>6&63),t.push(128|63&n)):(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++r)),t.push(240|n>>18,128|n>>12&63),t.push(128|n>>6&63,128|63&n))}return new Uint8Array(t)}(e);if(t.byteLength>=36)throw new Error("name is too long");this._bytes[41]=t.byteLength,this._bytes.set(t,42),this._setFields(["name"])},enumerable:!1,configurable:!0}),t.prototype.setName=function(e){return this.name=e,this},Object.defineProperty(t.prototype,"profitPercent",{get:function(){return this._checkFields(["version"]),this._checkVersionIsStruct(),this._checkFields(["profitPercent"]),this._view.getUint16(37)},set:function(e){this._checkFields(["version"]),this._checkVersionIsStruct(),J(e,100,500),this._view.setUint16(37,e),this._setFields(["profitPercent"])},enumerable:!1,configurable:!0}),t.prototype.setProfitPercent=function(e){return this.profitPercent=e,this},Object.defineProperty(t.prototype,"feePercent",{get:function(){return this._checkFields(["version"]),this._checkVersionIsStruct(),this._checkFields(["feePercent"]),this._view.getUint16(39)},set:function(e){this._checkFields(["version"]),this._checkVersionIsStruct(),J(e,0,2e3),this._view.setUint16(39,e),this._setFields(["feePercent"])},enumerable:!1,configurable:!0}),t.prototype.setFeePercent=function(e){return this.feePercent=e,this},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"bytes",{get:function(){var e=new Uint8Array(this._bytes.byteLength);return e.set(this._bytes),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return z(this._bytes)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._checkFields(["version"]),this._bytes[0]},set:function(e){if(Object.prototype.hasOwnProperty.call(this._fieldsMap,"version"))throw new Error("could not update version");J(e,t.Genesis,t.DeleteTransitAddress),this._bytes[0]=e,this._setFields(["version"])},enumerable:!1,configurable:!0}),t.prototype.setVersion=function(e){return this.version=e,this},Object.defineProperty(t.prototype,"sender",{get:function(){return this._checkFields(["sender"]),new n(this._bytes.subarray(1,35))},set:function(e){if(this._checkFields(["version"]),!(e instanceof n))throw new Error("address type must be Address");if(this.version===t.Genesis&&e.version!==n.Genesis)throw new Error("address version must be genesis");if(this.version!==t.Genesis&&e.version===n.Genesis)throw new Error("address version must not be genesis");this._bytes.set(e.bytes,1),this._setFields(["sender"])},enumerable:!1,configurable:!0}),t.prototype.setSender=function(e){return this.sender=e,this},Object.defineProperty(t.prototype,"recipient",{get:function(){return this._checkFields(["version"]),this._checkVersionIsNotStruct(),this._checkFields(["recipient"]),new n(this._bytes.subarray(35,69))},set:function(e){if(this._checkFields(["version"]),this._checkVersionIsNotStruct(),!(e instanceof n))throw new Error("recipient type must be Address");if(e.version===n.Genesis)throw new Error("recipient version must not be genesis");if(this.version===t.Genesis&&e.version!==n.Umi)throw new Error("recipient version must be umi");if(this.version!==t.Genesis&&this.version!==t.Basic&&e.version===n.Umi)throw new Error("recipient version must not be umi");this._bytes.set(e.bytes,35),this._setFields(["recipient"])},enumerable:!1,configurable:!0}),t.prototype.setRecipient=function(e){return this.recipient=e,this},Object.defineProperty(t.prototype,"value",{get:function(){if(this._checkFields(["version"]),this._checkVersionIsBasic(),this._checkFields(["value"]),this._view.getUint16(69)>31)throw new Error("value is not safe integer");return 4294967296*this._view.getUint32(69)+this._view.getUint32(73)},set:function(e){this._checkFields(["version"]),this._checkVersionIsBasic(),J(e,1,9007199254740991),this._view.setInt32(73,0|e),this._view.setInt32(69,(e-this._view.getUint32(73))/4294967296),this._setFields(["value"])},enumerable:!1,configurable:!0}),t.prototype.setValue=function(e){return this.value=e,this},Object.defineProperty(t.prototype,"nonce",{get:function(){if(this._checkFields(["nonce"]),this._view.getUint16(77)>31)throw new Error("nonce is not safe integer");return 4294967296*this._view.getUint32(77)+this._view.getUint32(81)},set:function(e){J(e,0,9007199254740991),this._view.setInt32(81,0|e),this._view.setInt32(77,(e-this._view.getUint32(81))/4294967296),this._setFields(["nonce"])},enumerable:!1,configurable:!0}),t.prototype.setNonce=function(e){return this.nonce=e,this},Object.defineProperty(t.prototype,"signature",{get:function(){this._checkFields(["signature"]);var e=this.sender.publicKey.signatureLength,t=new Uint8Array(e);return t.set(this._bytes.subarray(85,85+e)),t},set:function(e){this._checkFields(["version","sender"]),Q(e,this.sender.publicKey.signatureLength),this._bytes.set(e,85),this._setFields(["signature"])},enumerable:!1,configurable:!0}),t.prototype.setSignature=function(e){return this.signature=e,this},t.prototype.sign=function(e){if(this._checkFields(["version","sender"]),!(e instanceof a))throw new Error("secretKey type must be SecretKey");var t=this._bytes.subarray(0,85);return this.signature=e.sign(t),this},t.prototype.verify=function(){this._checkFields(["version","sender","signature"]);var e=this._bytes.subarray(0,85);return this.sender.publicKey.verifySignature(this.signature,e)},t.prototype._checkVersionIsBasic=function(){if(-1===[c.Genesis,c.Basic].indexOf(this.version))throw new Error("unavailable for this transaction type")},t.prototype._checkVersionIsNotStruct=function(){if(-1!==[c.CreateStructure,c.UpdateStructure].indexOf(this.version))throw new Error("unavailable for this transaction type")},t}(c)),f=function(){function e(){}return Object.defineProperty(e,"_alphabet",{get:function(){return"qpzry9x8gf2tvdw0s3jn54khce6mua7l"},enumerable:!1,configurable:!0}),e.decode=function(e){if(62!==e.length&&66!==e.length)throw new Error("bech32: invalid length");var t=e.toLowerCase(),r=t.lastIndexOf("1");if(-1===r)throw new Error("bech32: missing separator");var n=t.slice(0,r),i=y(n),o=t.slice(r+1);this._checkAlphabet(o),this._verifyChecksum(n,o);var s=new Uint8Array(34);return s.set(this._convert5to8(o.slice(0,-6)),2),new DataView(s.buffer).setUint16(0,i),s},e.encode=function(e){var t=h((e[0]<<8)+e[1]),r=this._convert8to5(e.subarray(2));return t+"1"+r+this._createChecksum(t,r)},e._checkAlphabet=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(-1===this._alphabet.indexOf(n))throw new Error("bech32: invalid character")}},e._convert5to8=function(e){for(var t=0,r=0,n=this._strToBytes(e),i=[],o=0;o<n.byteLength;o++)for(t=t<<5|n[o],r+=5;r>=8;)r-=8,i.push(t>>r&255);if(r>=5||t<<8-r&255)throw new Error("bech32: invalid data");return new Uint8Array(i)},e._convert8to5=function(e){for(var t=0,r=0,n="",i=0;i<e.byteLength;i++)for(t=t<<8|e[i],r+=8;r>=5;)r-=5,n+=this._alphabet[t>>r&31];return r>0&&(n+=this._alphabet[t<<5-r&31]),n},e._createChecksum=function(e,t){var r=this._strToBytes(t),n=this._prefixExpand(e),i=new Uint8Array(n.byteLength+r.byteLength+6);i.set(n),i.set(r,n.byteLength);for(var o=1^this._polyMod(i),s="",a=0;a<6;a++)s+=this._alphabet[o>>5*(5-a)&31];return s},e._polyMod=function(e){for(var t=[996825010,642813549,513874426,1027748829,705979059],r=1,n=0;n<e.byteLength;n++){var i=r>>25;r=(33554431&r)<<5^e[n];for(var o=0;o<5;o++)r^=i>>o&1?t[o]:0}return r},e._prefixExpand=function(e){for(var t=new Uint8Array(2*e.length+1),r=0;r<e.length;r++){var n=e.charCodeAt(r);t[r]=n>>5,t[r+e.length+1]=31&n}return t},e._strToBytes=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r];t.push(this._alphabet.indexOf(i))}return new Uint8Array(t)},e._verifyChecksum=function(e,t){var r=this._prefixExpand(e),n=this._strToBytes(t),i=new Uint8Array(r.byteLength+n.byteLength);if(i.set(r),i.set(n,r.byteLength),1!==this._polyMod(i))throw new Error("bech32: invalid checksum")},e}();function h(e){if(J(e,0,65535),0===e)return"genesis";if(32768==(32768&e))throw new Error("bech32: incorrect version");var t=(31744&e)>>10,r=(992&e)>>5,n=31&e;return l([t,r,n]),String.fromCharCode(t+96,r+96,n+96)}function y(e){if("genesis"===e)return 0;W(e,3);var t=e.charCodeAt(0)-96,r=e.charCodeAt(1)-96,n=e.charCodeAt(2)-96;return l([t,r,n]),(t<<10)+(r<<5)+n}function l(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(n<1||n>26)throw new Error("bech32: incorrect prefix character")}}var b=new Float64Array(16),p=new Float64Array([1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),w=new Float64Array([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),v=new Float64Array([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),g=new Float64Array([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function _(e){var t=new Float64Array(64);t.set(e),e.set(new Float64Array(64)),A(e,t)}function A(e,t){for(var r,n,i,o=63;o>=32;--o){for(r=0,n=o-32,i=o-12;n<i;++n)t[n]+=r-16*t[o]*d[n-(o-32)],r=Math.floor((t[n]+128)/256),t[n]-=256*r;t[n]+=r,t[o]=0}!function(e,t){for(var r=0,n=0;n<32;n++)t[n]+=r-(t[31]>>4)*d[n],r=t[n]>>8,t[n]&=255;for(n=0;n<32;n++)t[n]-=r*d[n];for(var i=0;i<32;i++)t[i+1]+=t[i]>>8,e[i]=255&t[i]}(e,t)}function F(e,t,r){var n;O(e[0],b),O(e[1],p),O(e[2],p),O(e[3],b);for(var i=255;i>=0;--i)m(e,t,n=r[i/8|0]>>(7&i)&1),U(t,e),U(e,e),m(e,t,n)}function m(e,t,r){for(var n=0;n<4;n++)T(e[n],t[n],r)}function U(e,t){var r=new Float64Array(16),n=new Float64Array(16),i=new Float64Array(16),o=new Float64Array(16),s=new Float64Array(16),a=new Float64Array(16),c=new Float64Array(16),u=new Float64Array(16),f=new Float64Array(16);k(r,e[1],e[0]),k(f,t[1],t[0]),E(r,r,f),P(n,e[0],e[1]),P(f,t[0],t[1]),E(n,n,f),E(i,e[3],t[3]),E(i,i,w),E(o,e[2],t[2]),P(o,o,o),k(s,n,r),k(a,o,i),P(c,o,i),P(u,n,r),E(e[0],s,a),E(e[1],u,c),E(e[2],c,a),E(e[3],s,u)}function P(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function E(e,t,r){for(var n=new Float64Array(31),i=0;i<16;i++)for(var o=0;o<16;o++)n[i+o]+=t[i]*r[o];for(i=0;i<15;i++)n[i]+=38*n[i+16];e.set(n.slice(0,16)),j(e),j(e)}function k(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function O(e,t){e.set(t)}function L(e,t){var r=[new Float64Array(16),new Float64Array(16),new Float64Array(16),new Float64Array(16)];O(r[0],v),O(r[1],g),O(r[2],p),E(r[3],v,g),F(e,r,t)}function j(e){for(var t,r=1,n=0;n<16;n++)t=e[n]+r+65535,r=Math.floor(t/65536),e[n]=t-65536*r;e[0]+=r-1+37*(r-1)}function I(e,t){var r=new Float64Array(16),n=new Float64Array(16),i=new Float64Array(16);!function(e,t){var r=new Float64Array(16);r.set(t);for(var n=253;n>=0;n--)G(r,r),2!==n&&4!==n&&E(r,r,t);e.set(r)}(i,t[2]),E(r,t[0],i),E(n,t[1],i),C(e,n),e[31]^=S(r)<<7}function S(e){var t=new Uint8Array(32);return C(t,e),1&t[0]}function G(e,t){E(e,t,t)}function T(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function C(e,t){var r,n=new Float64Array(16),i=new Float64Array(16);i.set(t),j(i),j(i),j(i);for(var o=0;o<2;o++){n[0]=i[0]-65517;for(var s=1;s<15;s++)n[s]=i[s]-65535-(n[s-1]>>16&1),n[s-1]&=65535;n[15]=i[15]-32767-(n[14]>>16&1),r=n[15]>>16&1,n[14]&=65535,T(i,n,1-r)}for(s=0;s<16;s++)e[2*s]=255&i[s],e[2*s+1]=i[s]>>8}function V(e){var t=new Uint8Array(32),r=new Uint8Array(64);return r.set(e),function(e,t){var r=new Uint8Array(64),n=[new Float64Array(16),new Float64Array(16),new Float64Array(16),new Float64Array(16)];N(r,t,32),r[0]&=248,r[31]&=127,r[31]|=64,L(n,r),I(e,n),t.set(e,32)}(t,r),r}var x=new Float64Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function N(e,t,r){var n,i=new Int32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),o=new Int32Array([4089235720,2227873595,4271175723,1595750129,2917565137,725511199,4215389547,327033209]),s=new Uint8Array(256),a=r;for(K(i,o,t,r),r%=128,n=0;n<r;n++)s[n]=t[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,H(s,r-8,a/536870912|0,a<<3),K(i,o,s,r),n=0;n<8;n++)H(e,8*n,i[n],o[n]);return 0}function K(e,t,r,n){var i,o,s,a,c,u,f,h,y=new Int32Array(16),l=new Int32Array(16),b=new Int32Array(8),p=new Int32Array(8),w=new Int32Array(8);w.set(e);var v=new Int32Array(8);v.set(t);for(var g=0;n>=128;){for(var d=0;d<16;d++){var _=8*d+g;y[d]=r[_]<<24|r[_+1]<<16|r[_+2]<<8|r[_+3],l[d]=r[_+4]<<24|r[_+5]<<16|r[_+6]<<8|r[_+7]}for(d=0;d<80;d++)if(b.set(w),p.set(v),s=w[7],c=65535&(a=v[7]),u=a>>>16,f=65535&s,h=s>>>16,s=(w[4]>>>14|v[4]<<18)^(w[4]>>>18|v[4]<<14)^(v[4]>>>9|w[4]<<23),c+=65535&(a=(v[4]>>>14|w[4]<<18)^(v[4]>>>18|w[4]<<14)^(w[4]>>>9|v[4]<<23)),u+=a>>>16,f+=65535&s,h+=s>>>16,s=w[4]&w[5]^~w[4]&w[6],c+=65535&(a=v[4]&v[5]^~v[4]&v[6]),u+=a>>>16,f+=65535&s,h+=s>>>16,s=x[2*d],c+=65535&(a=x[2*d+1]),u+=a>>>16,f+=65535&s,h+=s>>>16,s=y[d%16],u+=(a=l[d%16])>>>16,f+=65535&s,h+=s>>>16,f+=(u+=(c+=65535&a)>>>16)>>>16,c=65535&(a=o=65535&c|u<<16),u=a>>>16,f=65535&(s=i=65535&f|(h+=f>>>16)<<16),h=s>>>16,s=(w[0]>>>28|v[0]<<4)^(v[0]>>>2|w[0]<<30)^(v[0]>>>7|w[0]<<25),c+=65535&(a=(v[0]>>>28|w[0]<<4)^(w[0]>>>2|v[0]<<30)^(w[0]>>>7|v[0]<<25)),u+=a>>>16,f+=65535&s,h+=s>>>16,s=w[0]&w[1]^w[0]&w[2]^w[1]&w[2],u+=(a=v[0]&v[1]^v[0]&v[2]^v[1]&v[2])>>>16,f+=65535&s,h+=s>>>16,h+=(f+=(u+=(c+=65535&a)>>>16)>>>16)>>>16,b[7]=65535&f|h<<16,p[7]=65535&c|u<<16,s=b[3],c=65535&(a=p[3]),u=a>>>16,f=65535&s,h=s>>>16,u+=(a=o)>>>16,f+=65535&(s=i),h+=s>>>16,h+=(f+=(u+=(c+=65535&a)>>>16)>>>16)>>>16,b[3]=65535&f|h<<16,p[3]=65535&c|u<<16,w[1]=b[0],w[2]=b[1],w[3]=b[2],w[4]=b[3],w[5]=b[4],w[6]=b[5],w[7]=b[6],w[0]=b[7],v[1]=p[0],v[2]=p[1],v[3]=p[2],v[4]=p[3],v[5]=p[4],v[6]=p[5],v[7]=p[6],v[0]=p[7],d%16==15)for(_=0;_<16;_++)s=y[_],c=65535&(a=l[_]),u=a>>>16,f=65535&s,h=s>>>16,s=y[(_+9)%16],c+=65535&(a=l[(_+9)%16]),u+=a>>>16,f+=65535&s,h+=s>>>16,i=y[(_+1)%16],c+=65535&(a=((o=l[(_+1)%16])>>>1|i<<31)^(o>>>8|i<<24)^(o>>>7|i<<25)),u+=a>>>16,f+=65535&(s=(i>>>1|o<<31)^(i>>>8|o<<24)^i>>>7),h+=s>>>16,i=y[(_+14)%16],u+=(a=((o=l[(_+14)%16])>>>19|i<<13)^(i>>>29|o<<3)^(o>>>6|i<<26))>>>16,f+=65535&(s=(i>>>19|o<<13)^(o>>>29|i<<3)^i>>>6),h+=s>>>16,h+=(f+=(u+=(c+=65535&a)>>>16)>>>16)>>>16,y[_]=65535&f|h<<16,l[_]=65535&c|u<<16;B(e,t,w,v),g+=128,n-=128}return n}function B(e,t,r,n){for(var i=0;i<8;i++){var o=r[i],s=n[i],a=65535&s,c=s>>>16,u=65535&o,f=o>>>16;o=e[i],c+=(s=t[i])>>>16,u+=65535&o,f+=o>>>16,f+=(u+=(c+=(a+=65535&s)>>>16)>>>16)>>>16,e[i]=r[i]=65535&u|f<<16,t[i]=n[i]=65535&a|c<<16}}function H(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}var M=new Float64Array([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),D=new Float64Array([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function R(e,t){for(var r=0,n=0;n<32;n++)r|=e[n]^t[n];return(1&r-1>>>8)-1}function q(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return C(r,e),C(n,t),R(r,n)}function z(e){var t=new Int32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),r=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function n(e,t){for(var n=0;n<64;n++){var o=i(e[4],6)^i(e[4],11)^i(e[4],25),s=e[4]&e[5]^~e[4]&e[6],a=e[7]+o+s+r[n]+t[n],c=(i(e[0],2)^i(e[0],13)^i(e[0],22))+(e[0]&e[1]^e[0]&e[2]^e[1]&e[2]);e[7]=e[6],e[6]=e[5],e[5]=e[4],e[4]=e[3]+a,e[3]=e[2],e[2]=e[1],e[1]=e[0],e[0]=a+c}}function i(e,t){return e>>>t|e<<32-t}function o(e){for(var t=new DataView(e.buffer),r=0;r<e.byteLength;r+=4)t.setUint32(r,t.getUint32(r,!0));return t.buffer}var s=new Int32Array(64),a=new Int32Array(8),c=new Int32Array(new ArrayBuffer(e.length+8+(64-(e.length+8)%64)));new Uint8Array(c.buffer).set(e),new DataView(c.buffer).setInt8(e.byteLength,128),new DataView(c.buffer).setUint32(c.byteLength-4,8*e.byteLength),o(c);for(var u=0;u<c.length;u+=16){s.set(c.subarray(u));for(var f=16;f<64;f++){var h=i(s[f-15],7)^i(s[f-15],18)^s[f-15]>>>3,y=i(s[f-2],17)^i(s[f-2],19)^s[f-2]>>>10;s[f]=s[f-16]+h+s[f-7]+y}a.set(t),n(a,s),a.forEach((function(e,r){t[r]+=e}))}return new Uint8Array(o(t))}function J(e,t,r){if("number"!=typeof e)throw new Error("incorrect type");if(Math.floor(e)!==e)throw new Error("not integer");if(e<t||e>r)throw new Error("incorrect value")}function Q(e,t){if(!(e instanceof Uint8Array))throw new Error("incorrect type");if(void 0!==t&&e.byteLength!==t)throw new Error("incorrect length")}function W(e,t){if("string"!=typeof e)throw new Error("incorrect type");if(void 0!==t&&e.length!==t)throw new Error("incorrect length")}return e.Address=n,e.Block=i,e.BlockHeader=o,e.PublicKey=s,e.SecretKey=a,e.Transaction=u,e}({});
