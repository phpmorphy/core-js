/**
 * @license
 * Copyright (c) 2020 UMI
 * MIT Licensed
 */
var umi=function(e){"use strict";var t,r=this&&this.__extends||(t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,r)},function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}),n=function(){function e(t){if(this._bytes=new Uint8Array(e.LENGTH),void 0===t)this.version=e.Umi;else{if(!(t instanceof Uint8Array))throw new Error("bytes type must be Uint8Array");if(t.byteLength!==e.LENGTH)throw new Error("bytes length must be 34 bytes");this._bytes.set(t)}}return Object.defineProperty(e,"LENGTH",{get:function(){return 34},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Genesis",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Umi",{get:function(){return 21929},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bytes",{get:function(){var e=new Uint8Array(this._bytes.byteLength);return e.set(this._bytes),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return new DataView(this._bytes.buffer).getUint16(0)},set:function(e){u(e),new DataView(this._bytes.buffer).setUint16(0,32767&e)},enumerable:!1,configurable:!0}),e.prototype.setVersion=function(e){return this.version=e,this},Object.defineProperty(e.prototype,"publicKey",{get:function(){return new o(this._bytes.subarray(2))},set:function(e){if(!(e instanceof o))throw new Error("publicKey type must be PublicKey");this._bytes.set(e.bytes,2)},enumerable:!1,configurable:!0}),e.prototype.setPublicKey=function(e){return this.publicKey=e,this},Object.defineProperty(e.prototype,"prefix",{get:function(){return u(this.version)},set:function(e){this.version=y(e)},enumerable:!1,configurable:!0}),e.prototype.setPrefix=function(e){return this.prefix=e,this},Object.defineProperty(e.prototype,"bech32",{get:function(){return f.encode(this._bytes)},set:function(e){d(e),this._bytes.set(f.decode(e))},enumerable:!1,configurable:!0}),e.prototype.setBech32=function(e){return this.bech32=e,this},e.fromBech32=function(t){return(new e).setBech32(t)},e.fromKey=function(t){if(t instanceof a)return(new e).setPublicKey(t.publicKey);if(t instanceof o)return(new e).setPublicKey(t);throw new Error("key type must be PublicKey or SecretKey")},e}(),i=function(){},s=function(){},o=function(){function e(t){this._bytes=new Uint8Array(e.LENGTH),g(t,e.LENGTH),this._bytes.set(t)}return Object.defineProperty(e,"LENGTH",{get:function(){return _.PUBLIC_KEY_BYTES},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SIGNATURE_LENGTH",{get:function(){return _.SIGNATURE_BYTES},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signatureLength",{get:function(){return e.SIGNATURE_LENGTH},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bytes",{get:function(){var e=new Uint8Array(this._bytes.byteLength);return e.set(this._bytes),e},enumerable:!1,configurable:!0}),e.prototype.verifySignature=function(t,r){return g(t,e.SIGNATURE_LENGTH),g(r),(new _).verify(t,r,this._bytes)},e}(),a=function(){function e(t){this._bytes=new Uint8Array(e.LENGTH),g(t,e.LENGTH),this._bytes.set(t)}return Object.defineProperty(e,"LENGTH",{get:function(){return _.SECRET_KEY_BYTES},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bytes",{get:function(){var e=new Uint8Array(this._bytes.byteLength);return e.set(this._bytes),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"publicKey",{get:function(){return new o((new _).publicKeyFromSecretKey(this._bytes))},enumerable:!1,configurable:!0}),e.prototype.sign=function(e){return g(e),(new _).sign(e,this._bytes)},e.fromSeed=function(t){return g(t),t.byteLength===_.SEED_BYTES?new e((new _).secretKeyFromSeed(t)):new e((new _).secretKeyFromSeed(l(t)))},e}(),c=function(){function e(t){this._bytes=new Uint8Array(e.LENGTH),this._view=new DataView(this._bytes.buffer),this._fieldsMap={},void 0!==t&&(g(t,e.LENGTH),this._bytes.set(t),this._setFields(["version","sender","recipient","value","prefix","name","profitPercent","feePercent","nonce","signature"]))}return Object.defineProperty(e,"LENGTH",{get:function(){return 150},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Genesis",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Basic",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CreateStructure",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UpdateStructure",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UpdateProfitAddress",{get:function(){return 4},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UpdateFeeAddress",{get:function(){return 5},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CreateTransitAddress",{get:function(){return 6},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DeleteTransitAddress",{get:function(){return 7},enumerable:!1,configurable:!0}),e.prototype._checkFields=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(!Object.prototype.hasOwnProperty.call(this._fieldsMap,n))throw new Error(n+" must be set")}},e.prototype._setFields=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];this._fieldsMap[n]=!0}},e}(),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._checkVersionIsStruct=function(){if(-1===[t.CreateStructure,t.UpdateStructure].indexOf(this.version))throw new Error("unavailable for this transaction type")},Object.defineProperty(t.prototype,"prefix",{get:function(){return this._checkFields(["version"]),this._checkVersionIsStruct(),this._checkFields(["prefix"]),u(this._view.getUint16(35))},set:function(e){this._checkFields(["version"]),this._checkVersionIsStruct(),this._view.setUint16(35,y(e)),this._setFields(["prefix"])},enumerable:!1,configurable:!0}),t.prototype.setPrefix=function(e){return this.prefix=e,this},Object.defineProperty(t.prototype,"name",{get:function(){return this._checkFields(["version"]),this._checkVersionIsStruct(),this._checkFields(["name"]),function(e){for(var t="",r=0;r<e.byteLength;r++)if(e[r]<128)t+=String.fromCharCode(e[r]);else if(e[r]>191&&e[r]<224)t+=String.fromCharCode((31&e[r])<<6|63&e[++r]);else if(e[r]>223&&e[r]<240)t+=String.fromCharCode((15&e[r])<<12|(63&e[++r])<<6|63&e[++r]);else{var n=((7&e[r])<<18|(63&e[++r])<<12|(63&e[++r])<<6|63&e[++r])-65536;t+=String.fromCharCode(n>>10|55296,1023&n|56320)}return t}(this._bytes.subarray(42,42+this._bytes[41]))},set:function(e){if(this._checkFields(["version"]),this._checkVersionIsStruct(),"string"!=typeof e)throw new Error("name type must be a string");var t=function(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|63&n):n<55296||n>=57344?(t.push(224|n>>12,128|n>>6&63),t.push(128|63&n)):(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++r)),t.push(240|n>>18,128|n>>12&63),t.push(128|n>>6&63,128|63&n))}return new Uint8Array(t)}(e);if(t.byteLength>=36)throw new Error("name is too long");this._bytes[41]=t.byteLength,this._bytes.set(t,42),this._setFields(["name"])},enumerable:!1,configurable:!0}),t.prototype.setName=function(e){return this.name=e,this},Object.defineProperty(t.prototype,"profitPercent",{get:function(){return this._checkFields(["version"]),this._checkVersionIsStruct(),this._checkFields(["profitPercent"]),this._view.getUint16(37)},set:function(e){this._checkFields(["version"]),this._checkVersionIsStruct(),w(e,100,500),this._view.setUint16(37,e),this._setFields(["profitPercent"])},enumerable:!1,configurable:!0}),t.prototype.setProfitPercent=function(e){return this.profitPercent=e,this},Object.defineProperty(t.prototype,"feePercent",{get:function(){return this._checkFields(["version"]),this._checkVersionIsStruct(),this._checkFields(["feePercent"]),this._view.getUint16(39)},set:function(e){this._checkFields(["version"]),this._checkVersionIsStruct(),w(e,0,2e3),this._view.setUint16(39,e),this._setFields(["feePercent"])},enumerable:!1,configurable:!0}),t.prototype.setFeePercent=function(e){return this.feePercent=e,this},t}(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"bytes",{get:function(){var e=new Uint8Array(this._bytes.byteLength);return e.set(this._bytes),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return l(this._bytes)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._checkFields(["version"]),this._bytes[0]},set:function(e){if(Object.prototype.hasOwnProperty.call(this._fieldsMap,"version"))throw new Error("could not update version");w(e,t.Genesis,t.DeleteTransitAddress),this._bytes[0]=e,this._setFields(["version"])},enumerable:!1,configurable:!0}),t.prototype.setVersion=function(e){return this.version=e,this},Object.defineProperty(t.prototype,"sender",{get:function(){return this._checkFields(["sender"]),new n(this._bytes.subarray(1,35))},set:function(e){if(this._checkFields(["version"]),!(e instanceof n))throw new Error("address type must be Address");if(this.version===t.Genesis&&e.version!==n.Genesis)throw new Error("address version must be genesis");if(this.version!==t.Genesis&&e.version===n.Genesis)throw new Error("address version must not be genesis");this._bytes.set(e.bytes,1),this._setFields(["sender"])},enumerable:!1,configurable:!0}),t.prototype.setSender=function(e){return this.sender=e,this},Object.defineProperty(t.prototype,"recipient",{get:function(){return this._checkFields(["version"]),this._checkVersionIsNotStruct(),this._checkFields(["recipient"]),new n(this._bytes.subarray(35,69))},set:function(e){if(this._checkFields(["version"]),this._checkVersionIsNotStruct(),!(e instanceof n))throw new Error("recipient type must be Address");if(e.version===n.Genesis)throw new Error("recipient version must not be genesis");if(this.version===t.Genesis&&e.version!==n.Umi)throw new Error("recipient version must be umi");if(this.version!==t.Genesis&&this.version!==t.Basic&&e.version===n.Umi)throw new Error("recipient version must not be umi");this._bytes.set(e.bytes,35),this._setFields(["recipient"])},enumerable:!1,configurable:!0}),t.prototype.setRecipient=function(e){return this.recipient=e,this},Object.defineProperty(t.prototype,"value",{get:function(){if(this._checkFields(["version"]),this._checkVersionIsBasic(),this._checkFields(["value"]),this._view.getUint16(69)>31)throw new Error("value is not safe integer");return 4294967296*this._view.getUint32(69)+this._view.getUint32(73)},set:function(e){this._checkFields(["version"]),this._checkVersionIsBasic(),w(e,1,9007199254740991),this._view.setInt32(73,0|e),this._view.setInt32(69,(e-this._view.getUint32(73))/4294967296),this._setFields(["value"])},enumerable:!1,configurable:!0}),t.prototype.setValue=function(e){return this.value=e,this},Object.defineProperty(t.prototype,"nonce",{get:function(){if(this._checkFields(["nonce"]),this._view.getUint16(77)>31)throw new Error("nonce is not safe integer");return 4294967296*this._view.getUint32(77)+this._view.getUint32(81)},set:function(e){w(e,0,9007199254740991),this._view.setInt32(81,0|e),this._view.setInt32(77,(e-this._view.getUint32(81))/4294967296),this._setFields(["nonce"])},enumerable:!1,configurable:!0}),t.prototype.setNonce=function(e){return this.nonce=e,this},Object.defineProperty(t.prototype,"signature",{get:function(){this._checkFields(["signature"]);var e=this.sender.publicKey.signatureLength,t=new Uint8Array(e);return t.set(this._bytes.subarray(85,85+e)),t},set:function(e){this._checkFields(["version","sender"]),g(e,this.sender.publicKey.signatureLength),this._bytes.set(e,85),this._setFields(["signature"])},enumerable:!1,configurable:!0}),t.prototype.setSignature=function(e){return this.signature=e,this},t.prototype.sign=function(e){if(this._checkFields(["version","sender"]),!(e instanceof a))throw new Error("secretKey type must be SecretKey");var t=this._bytes.subarray(0,85);return this.signature=e.sign(t),this},t.prototype.verify=function(){this._checkFields(["version","sender","signature"]);var e=this._bytes.subarray(0,85);return this.sender.publicKey.verifySignature(this.signature,e)},t.prototype._checkVersionIsBasic=function(){if(-1===[c.Genesis,c.Basic].indexOf(this.version))throw new Error("unavailable for this transaction type")},t.prototype._checkVersionIsNotStruct=function(){if(-1!==[c.CreateStructure,c.UpdateStructure].indexOf(this.version))throw new Error("unavailable for this transaction type")},t}(c)),f=function(){function e(){}return Object.defineProperty(e,"_alphabet",{get:function(){return"qpzry9x8gf2tvdw0s3jn54khce6mua7l"},enumerable:!1,configurable:!0}),e.decode=function(e){if(62!==e.length&&66!==e.length)throw new Error("bech32: invalid length");var t=e.toLowerCase(),r=t.lastIndexOf("1");if(-1===r)throw new Error("bech32: missing separator");var n=t.slice(0,r),i=y(n),s=t.slice(r+1);this._checkAlphabet(s),this._verifyChecksum(n,s);var o=new Uint8Array(34);return o.set(this._convert5to8(s.slice(0,-6)),2),new DataView(o.buffer).setUint16(0,i),o},e.encode=function(e){var t=u((e[0]<<8)+e[1]),r=this._convert8to5(e.subarray(2));return t+"1"+r+this._createChecksum(t,r)},e._checkAlphabet=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(-1===this._alphabet.indexOf(n))throw new Error("bech32: invalid character")}},e._convert5to8=function(e){for(var t=0,r=0,n=this._strToBytes(e),i=[],s=0;s<n.byteLength;s++)for(t=t<<5|n[s],r+=5;r>=8;)r-=8,i.push(t>>r&255);if(r>=5||t<<8-r&255)throw new Error("bech32: invalid data");return new Uint8Array(i)},e._convert8to5=function(e){for(var t=0,r=0,n="",i=0;i<e.byteLength;i++)for(t=t<<8|e[i],r+=8;r>=5;)r-=5,n+=this._alphabet[t>>r&31];return r>0&&(n+=this._alphabet[t<<5-r&31]),n},e._createChecksum=function(e,t){var r=this._strToBytes(t),n=this._prefixExpand(e),i=new Uint8Array(n.byteLength+r.byteLength+6);i.set(n),i.set(r,n.byteLength);for(var s=1^this._polyMod(i),o="",a=0;a<6;a++)o+=this._alphabet[s>>5*(5-a)&31];return o},e._polyMod=function(e){for(var t=[996825010,642813549,513874426,1027748829,705979059],r=1,n=0;n<e.byteLength;n++){var i=r>>25;r=(33554431&r)<<5^e[n];for(var s=0;s<5;s++)r^=i>>s&1?t[s]:0}return r},e._prefixExpand=function(e){for(var t=new Uint8Array(2*e.length+1),r=0;r<e.length;r++){var n=e.charCodeAt(r);t[r]=n>>5,t[r+e.length+1]=31&n}return t},e._strToBytes=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r];t.push(this._alphabet.indexOf(i))}return new Uint8Array(t)},e._verifyChecksum=function(e,t){var r=this._prefixExpand(e),n=this._strToBytes(t),i=new Uint8Array(r.byteLength+n.byteLength);if(i.set(r),i.set(n,r.byteLength),1!==this._polyMod(i))throw new Error("bech32: invalid checksum")},e}();function u(e){if(w(e,0,65535),0===e)return"genesis";if(32768==(32768&e))throw new Error("bech32: incorrect version");var t=(31744&e)>>10,r=(992&e)>>5,n=31&e;return p([t,r,n]),String.fromCharCode(t+96,r+96,n+96)}function y(e){if("genesis"===e)return 0;d(e,3);var t=e.charCodeAt(0)-96,r=e.charCodeAt(1)-96,n=e.charCodeAt(2)-96;return p([t,r,n]),(t<<10)+(r<<5)+n}function p(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(n<1||n>26)throw new Error("bech32: incorrect prefix character")}}var _=function(){function e(){this._D=new Float64Array([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),this._D2=new Float64Array([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),this._gf0=new Float64Array(16),this._gf1=new Float64Array([1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this._L=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),this._K=new Float64Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]),this._I=new Float64Array([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),this._X=new Float64Array([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),this._Y=new Float64Array([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214])}return Object.defineProperty(e,"PUBLIC_KEY_BYTES",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SECRET_KEY_BYTES",{get:function(){return 64},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SEED_BYTES",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SIGNATURE_BYTES",{get:function(){return 64},enumerable:!1,configurable:!0}),e.prototype.sign=function(t,r){var n=new Uint8Array(e.SIGNATURE_BYTES+t.length);return this._cryptoSign(n,t,t.length,r),new Uint8Array(n.buffer,0,e.SIGNATURE_BYTES)},e.prototype.verify=function(e,t,r){var n=new Uint8Array(64+t.byteLength),i=new Uint8Array(64+t.byteLength);return n.set(e),n.set(t,64),i.set(n),this._cryptoSignOpen(i,n,n.byteLength,r)>=0},e.prototype.secretKeyFromSeed=function(e){var t=new Uint8Array(32),r=new Uint8Array(64);return r.set(e),this._cryptoSignKeypair(t,r),r},e.prototype.publicKeyFromSecretKey=function(t){var r=new Uint8Array(e.PUBLIC_KEY_BYTES);return r.set(new Uint8Array(t.buffer,32,32)),r},e.prototype._add=function(e,t){var r=new Float64Array(16),n=new Float64Array(16),i=new Float64Array(16),s=new Float64Array(16),o=new Float64Array(16),a=new Float64Array(16),c=new Float64Array(16),h=new Float64Array(16),f=new Float64Array(16);this._fnZ(r,e[1],e[0]),this._fnZ(f,t[1],t[0]),this._fnM(r,r,f),this._fnA(n,e[0],e[1]),this._fnA(f,t[0],t[1]),this._fnM(n,n,f),this._fnM(i,e[3],t[3]),this._fnM(i,i,this._D2),this._fnM(s,e[2],t[2]),this._fnA(s,s,s),this._fnZ(o,n,r),this._fnZ(a,s,i),this._fnA(c,s,i),this._fnA(h,n,r),this._fnM(e[0],o,a),this._fnM(e[1],h,c),this._fnM(e[2],c,a),this._fnM(e[3],o,h)},e.prototype._car25519=function(e){for(var t,r=1,n=0;n<16;n++)t=e[n]+r+65535,r=Math.floor(t/65536),e[n]=t-65536*r;e[0]+=r-1+37*(r-1)},e.prototype._cryptoHash=function(e,t,r){var n,i=new Int32Array(8),s=new Int32Array(8),o=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,s[0]=4089235720,s[1]=2227873595,s[2]=4271175723,s[3]=1595750129,s[4]=2917565137,s[5]=725511199,s[6]=4215389547,s[7]=327033209,this._cryptoHashBlocksHl(i,s,t,r),r%=128,n=0;n<r;n++)o[n]=t[a-r+n];for(o[r]=128,o[(r=256-128*(r<112?1:0))-9]=0,this._ts64(o,r-8,a/536870912|0,a<<3),this._cryptoHashBlocksHl(i,s,o,r),n=0;n<8;n++)this._ts64(e,8*n,i[n],s[n]);return 0},e.prototype._cryptoHashBlocksHl=function(e,t,r,n){for(var i,s,o,a,c,h,f,u,y,p,_,l,b,w,g,d,v,A,F,m,E,U,S,P,k,O,L=new Int32Array(16),j=new Int32Array(16),T=e[0],M=e[1],I=e[2],K=e[3],B=e[4],G=e[5],C=e[6],H=e[7],V=t[0],N=t[1],x=t[2],Y=t[3],D=t[4],R=t[5],Z=t[6],q=t[7],X=0;n>=128;){for(F=0;F<16;F++)m=8*F+X,L[F]=r[m+0]<<24|r[m+1]<<16|r[m+2]<<8|r[m+3],j[F]=r[m+4]<<24|r[m+5]<<16|r[m+6]<<8|r[m+7];for(F=0;F<80;F++)if(i=T,s=M,o=I,a=K,c=B,h=G,f=C,H,y=V,p=N,_=x,l=Y,b=D,w=R,g=Z,q,S=65535&(U=q),P=U>>>16,k=65535&(E=H),O=E>>>16,S+=65535&(U=(D>>>14|B<<18)^(D>>>18|B<<14)^(B>>>9|D<<23)),P+=U>>>16,k+=65535&(E=(B>>>14|D<<18)^(B>>>18|D<<14)^(D>>>9|B<<23)),O+=E>>>16,S+=65535&(U=D&R^~D&Z),P+=U>>>16,k+=65535&(E=B&G^~B&C),O+=E>>>16,E=this._K[2*F],S+=65535&(U=this._K[2*F+1]),P+=U>>>16,k+=65535&E,O+=E>>>16,E=L[F%16],P+=(U=j[F%16])>>>16,k+=65535&E,O+=E>>>16,k+=(P+=(S+=65535&U)>>>16)>>>16,S=65535&(U=A=65535&S|P<<16),P=U>>>16,k=65535&(E=v=65535&k|(O+=k>>>16)<<16),O=E>>>16,S+=65535&(U=(V>>>28|T<<4)^(T>>>2|V<<30)^(T>>>7|V<<25)),P+=U>>>16,k+=65535&(E=(T>>>28|V<<4)^(V>>>2|T<<30)^(V>>>7|T<<25)),O+=E>>>16,P+=(U=V&N^V&x^N&x)>>>16,k+=65535&(E=T&M^T&I^M&I),O+=E>>>16,u=65535&(k+=(P+=(S+=65535&U)>>>16)>>>16)|(O+=k>>>16)<<16,d=65535&S|P<<16,S=65535&(U=l),P=U>>>16,k=65535&(E=a),O=E>>>16,P+=(U=A)>>>16,k+=65535&(E=v),O+=E>>>16,M=i,I=s,K=o,B=a=65535&(k+=(P+=(S+=65535&U)>>>16)>>>16)|(O+=k>>>16)<<16,G=c,C=h,H=f,T=u,N=y,x=p,Y=_,D=l=65535&S|P<<16,R=b,Z=w,q=g,V=d,F%16==15)for(m=0;m<16;m++)E=L[m],S=65535&(U=j[m]),P=U>>>16,k=65535&E,O=E>>>16,E=L[(m+9)%16],S+=65535&(U=j[(m+9)%16]),P+=U>>>16,k+=65535&E,O+=E>>>16,v=L[(m+1)%16],S+=65535&(U=((A=j[(m+1)%16])>>>1|v<<31)^(A>>>8|v<<24)^(A>>>7|v<<25)),P+=U>>>16,k+=65535&(E=(v>>>1|A<<31)^(v>>>8|A<<24)^v>>>7),O+=E>>>16,v=L[(m+14)%16],P+=(U=((A=j[(m+14)%16])>>>19|v<<13)^(v>>>29|A<<3)^(A>>>6|v<<26))>>>16,k+=65535&(E=(v>>>19|A<<13)^(A>>>29|v<<3)^v>>>6),O+=E>>>16,O+=(k+=(P+=(S+=65535&U)>>>16)>>>16)>>>16,L[m]=65535&k|O<<16,j[m]=65535&S|P<<16;S=65535&(U=V),P=U>>>16,k=65535&(E=T),O=E>>>16,E=e[0],P+=(U=t[0])>>>16,k+=65535&E,O+=E>>>16,O+=(k+=(P+=(S+=65535&U)>>>16)>>>16)>>>16,e[0]=T=65535&k|O<<16,t[0]=V=65535&S|P<<16,S=65535&(U=N),P=U>>>16,k=65535&(E=M),O=E>>>16,E=e[1],P+=(U=t[1])>>>16,k+=65535&E,O+=E>>>16,O+=(k+=(P+=(S+=65535&U)>>>16)>>>16)>>>16,e[1]=M=65535&k|O<<16,t[1]=N=65535&S|P<<16,S=65535&(U=x),P=U>>>16,k=65535&(E=I),O=E>>>16,E=e[2],P+=(U=t[2])>>>16,k+=65535&E,O+=E>>>16,O+=(k+=(P+=(S+=65535&U)>>>16)>>>16)>>>16,e[2]=I=65535&k|O<<16,t[2]=x=65535&S|P<<16,S=65535&(U=Y),P=U>>>16,k=65535&(E=K),O=E>>>16,E=e[3],P+=(U=t[3])>>>16,k+=65535&E,O+=E>>>16,O+=(k+=(P+=(S+=65535&U)>>>16)>>>16)>>>16,e[3]=K=65535&k|O<<16,t[3]=Y=65535&S|P<<16,S=65535&(U=D),P=U>>>16,k=65535&(E=B),O=E>>>16,E=e[4],P+=(U=t[4])>>>16,k+=65535&E,O+=E>>>16,O+=(k+=(P+=(S+=65535&U)>>>16)>>>16)>>>16,e[4]=B=65535&k|O<<16,t[4]=D=65535&S|P<<16,S=65535&(U=R),P=U>>>16,k=65535&(E=G),O=E>>>16,E=e[5],P+=(U=t[5])>>>16,k+=65535&E,O+=E>>>16,O+=(k+=(P+=(S+=65535&U)>>>16)>>>16)>>>16,e[5]=G=65535&k|O<<16,t[5]=R=65535&S|P<<16,S=65535&(U=Z),P=U>>>16,k=65535&(E=C),O=E>>>16,E=e[6],P+=(U=t[6])>>>16,k+=65535&E,O+=E>>>16,O+=(k+=(P+=(S+=65535&U)>>>16)>>>16)>>>16,e[6]=C=65535&k|O<<16,t[6]=Z=65535&S|P<<16,S=65535&(U=q),P=U>>>16,k=65535&(E=H),O=E>>>16,E=e[7],P+=(U=t[7])>>>16,k+=65535&E,O+=E>>>16,O+=(k+=(P+=(S+=65535&U)>>>16)>>>16)>>>16,e[7]=H=65535&k|O<<16,t[7]=q=65535&S|P<<16,X+=128,n-=128}return n},e.prototype._cryptoSign=function(e,t,r,n){var i,s,o=new Uint8Array(64),a=new Uint8Array(64),c=new Uint8Array(64),h=new Float64Array(64),f=[new Float64Array(16),new Float64Array(16),new Float64Array(16),new Float64Array(16)];for(this._cryptoHash(o,n,32),o[0]&=248,o[31]&=127,o[31]|=64,e.set(t,64),e.set(o.subarray(32),32),this._cryptoHash(c,e.subarray(32),r+32),this._reduce(c),this._scalarbase(f,c),this._pack(e,f),e.set(n.subarray(32),32),this._cryptoHash(a,e,r+64),this._reduce(a),h.set(c),i=0;i<32;i++)for(s=0;s<32;s++)h[i+s]+=a[i]*o[s];this._modL(e.subarray(32),h)},e.prototype._cryptoSignKeypair=function(e,t){var r=new Uint8Array(64),n=[new Float64Array(16),new Float64Array(16),new Float64Array(16),new Float64Array(16)];return this._cryptoHash(r,t,32),r[0]&=248,r[31]&=127,r[31]|=64,this._scalarbase(n,r),this._pack(e,n),t.set(e,32),0},e.prototype._cryptoSignOpen=function(e,t,r,n){var i=new Uint8Array(32),s=new Uint8Array(64),o=[new Float64Array(16),new Float64Array(16),new Float64Array(16),new Float64Array(16)],a=[new Float64Array(16),new Float64Array(16),new Float64Array(16),new Float64Array(16)];return this._unpackneg(a,n)?-1:(e.set(t),e.set(n,32),this._cryptoHash(s,e,r),this._reduce(s),this._scalarmult(o,a,s),this._scalarbase(a,t.subarray(32)),this._add(o,a),this._pack(i,o),this._cryptoVerify32(t,i)?-1:r)},e.prototype._cryptoVerify32=function(e,t){for(var r=0,n=0;n<32;n++)r|=e[n]^t[n];return(1&r-1>>>8)-1},e.prototype._cswap=function(e,t,r){for(var n=0;n<4;n++)this._sel25519(e[n],t[n],r)},e.prototype._fnA=function(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]},e.prototype._fnM=function(e,t,r){for(var n=new Float64Array(31),i=0;i<16;i++)for(var s=0;s<16;s++)n[i+s]+=t[i]*r[s];for(i=0;i<15;i++)n[i]+=38*n[i+16];e.set(n.slice(0,16)),this._car25519(e),this._car25519(e)},e.prototype._fnS=function(e,t){this._fnM(e,t,t)},e.prototype._fnZ=function(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]},e.prototype._inv25519=function(e,t){var r=new Float64Array(16);r.set(t);for(var n=253;n>=0;n--)this._fnS(r,r),2!==n&&4!==n&&this._fnM(r,r,t);e.set(r)},e.prototype._modL=function(e,t){for(var r,n,i,s=63;s>=32;--s){for(r=0,n=s-32,i=s-12;n<i;++n)t[n]+=r-16*t[s]*this._L[n-(s-32)],r=Math.floor((t[n]+128)/256),t[n]-=256*r;t[n]+=r,t[s]=0}r=0;for(var o=0;o<32;o++)t[o]+=r-(t[31]>>4)*this._L[o],r=t[o]>>8,t[o]&=255;for(var a=0;a<32;a++)t[a]-=r*this._L[a];for(s=0;s<32;s++)t[s+1]+=t[s]>>8,e[s]=255&t[s]},e.prototype._neq25519=function(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return this._pack25519(r,e),this._pack25519(n,t),this._cryptoVerify32(r,n)},e.prototype._pack=function(e,t){var r=new Float64Array(16),n=new Float64Array(16),i=new Float64Array(16);this._inv25519(i,t[2]),this._fnM(r,t[0],i),this._fnM(n,t[1],i),this._pack25519(e,n),e[31]^=this._par25519(r)<<7},e.prototype._pack25519=function(e,t){var r,n=new Float64Array(16),i=new Float64Array(16);i.set(t),this._car25519(i),this._car25519(i),this._car25519(i);for(var s=0;s<2;s++){n[0]=i[0]-65517;for(var o=1;o<15;o++)n[o]=i[o]-65535-(n[o-1]>>16&1),n[o-1]&=65535;n[15]=i[15]-32767-(n[14]>>16&1),r=n[15]>>16&1,n[14]&=65535,this._sel25519(i,n,1-r)}for(o=0;o<16;o++)e[2*o]=255&i[o],e[2*o+1]=i[o]>>8},e.prototype._par25519=function(e){var t=new Uint8Array(32);return this._pack25519(t,e),1&t[0]},e.prototype._pow2523=function(e,t){var r=new Float64Array(16);r.set(t);for(var n=250;n>=0;n--)this._fnS(r,r),1!==n&&this._fnM(r,r,t);e.set(r)},e.prototype._reduce=function(e){var t=new Float64Array(64);t.set(e),e.set(new Float64Array(64)),this._modL(e,t)},e.prototype._scalarbase=function(e,t){var r=[new Float64Array(16),new Float64Array(16),new Float64Array(16),new Float64Array(16)];this._set25519(r[0],this._X),this._set25519(r[1],this._Y),this._set25519(r[2],this._gf1),this._fnM(r[3],this._X,this._Y),this._scalarmult(e,r,t)},e.prototype._scalarmult=function(e,t,r){var n;this._set25519(e[0],this._gf0),this._set25519(e[1],this._gf1),this._set25519(e[2],this._gf1),this._set25519(e[3],this._gf0);for(var i=255;i>=0;--i)n=r[i/8|0]>>(7&i)&1,this._cswap(e,t,n),this._add(t,e),this._add(e,e),this._cswap(e,t,n)},e.prototype._sel25519=function(e,t,r){for(var n,i=~(r-1),s=0;s<16;s++)n=i&(e[s]^t[s]),e[s]^=n,t[s]^=n},e.prototype._set25519=function(e,t){e.set(t)},e.prototype._ts64=function(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n},e.prototype._unpack25519=function(e,t){for(var r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767},e.prototype._unpackneg=function(e,t){var r=new Float64Array(16),n=new Float64Array(16),i=new Float64Array(16),s=new Float64Array(16),o=new Float64Array(16),a=new Float64Array(16),c=new Float64Array(16);return this._set25519(e[2],this._gf1),this._unpack25519(e[1],t),this._fnS(i,e[1]),this._fnM(s,i,this._D),this._fnZ(i,i,e[2]),this._fnA(s,e[2],s),this._fnS(o,s),this._fnS(a,o),this._fnM(c,a,o),this._fnM(r,c,i),this._fnM(r,r,s),this._pow2523(r,r),this._fnM(r,r,i),this._fnM(r,r,s),this._fnM(r,r,s),this._fnM(e[0],r,s),this._fnS(n,e[0]),this._fnM(n,n,s),this._neq25519(n,i)&&this._fnM(e[0],e[0],this._I),this._fnS(n,e[0]),this._fnM(n,n,s),this._neq25519(n,i)?-1:(this._par25519(e[0])===t[31]>>7&&this._fnZ(e[0],this._gf0,e[0]),this._fnM(e[3],e[0],e[1]),0)},e}();function l(e){var t=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),r=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),n=new Uint32Array(64),i=new Uint32Array(8),s=e.byteLength+8;s+=64-s%64;var o=new Uint32Array(new ArrayBuffer(s));new Uint8Array(o.buffer).set(e),new DataView(o.buffer).setInt8(e.byteLength,128),new DataView(o.buffer).setUint32(o.byteLength-4,8*e.byteLength),b(o);for(var a=0;a<o.length;a+=16){n.set(o.subarray(a));for(var c=16;c<64;c++){var h=(n[c-15]>>>7|n[c-15]<<25)^(n[c-15]>>>18|n[c-15]<<14)^n[c-15]>>>3,f=(n[c-2]>>>17|n[c-2]<<15)^(n[c-2]>>>19|n[c-2]<<13)^n[c-2]>>>10;n[c]=n[c-16]+h+n[c-7]+f}i.set(t);for(c=0;c<64;c++){var u=(i[0]>>>2|i[0]<<30)^(i[0]>>>13|i[0]<<19)^(i[0]>>>22|i[0]<<10),y=i[0]&i[1]^i[0]&i[2]^i[1]&i[2],p=(i[4]>>>6|i[4]<<26)^(i[4]>>>11|i[4]<<21)^(i[4]>>>25|i[4]<<7),_=i[7]+p+(i[4]&i[5]^~i[4]&i[6])+r[c]+n[c];i[7]=i[6],i[6]=i[5],i[5]=i[4],i[4]=i[3]+_,i[3]=i[2],i[2]=i[1],i[1]=i[0],i[0]=_+u+y}for(c=0;c<8;c++)t[c]+=i[c]}return new Uint8Array(b(t))}function b(e){for(var t=new DataView(e.buffer),r=0;r<e.byteLength;r+=4)t.setUint32(r,t.getUint32(r,!0));return t.buffer}function w(e,t,r){if("number"!=typeof e)throw new Error("incorrect type");if(Math.floor(e)!==e)throw new Error("not integer");if(e<t||e>r)throw new Error("incorrect value")}function g(e,t){if(!(e instanceof Uint8Array))throw new Error("incorrect type");if(void 0!==t&&e.byteLength!==t)throw new Error("incorrect length")}function d(e,t){if("string"!=typeof e)throw new Error("incorrect type");if(void 0!==t&&e.length!==t)throw new Error("incorrect length")}return e.Address=n,e.Block=i,e.BlockHeader=s,e.PublicKey=o,e.SecretKey=a,e.Transaction=h,e}({});
